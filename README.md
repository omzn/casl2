# CASL2 アセンブラ/ COMET2 エミュレータ for KIT 言語処理プログラミング

CASL2, COMET2の実装です．

### 独自拡張

* ラベルにはスコープがあります．スコープはプログラム内(START命令からEND命令で囲まれた部分)のみです．
* CALL命令にもスコープが効きますが，CALLだけは別プログラムの開始ラベル(START命令のラベル)まで参照することができます．
* 簡単のため，MULA (算術乗算), MULL (論理乗算), DIVA (算術除算), DIVL (論理除算)を実装しています．利用方法はADDA, ADDL等とほぼ同じです．
  * DIVA, DIVLについては，0除算を行おうとするとZFとOFが同時に立って，計算は行われずに先に進みます．
* DC 命令で文字列を確保すると，最後に0(ヌル文字)が1文字追加されます．
* ラベルは「英大文字，英小文字，$ _ % . 」のいずれかで始まり，「英大文字，英小文字，数字，$ _ % . 」を含む長さ制限の無い文字列で表します．
